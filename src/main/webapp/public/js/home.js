$(function(){$(".menu-left .item1").addClass("selected");$(".menu-left .item2").removeClass("selected");$(".menu-bottom .item1").addClass("selected");$(".menu-bottom .item2").removeClass("selected");var a=$.urlParam("query");$.when(a?ivy.target.search(a):ivy.target.list()).done(function(b){b&&!$.isEmptyObject(b)&&(ivy.page.add(b,!0),$("#page").val(1))});$.when(ivy.whois_scope.list()).done(function(b){if(b&&!$.isEmptyObject(b))for(var a=$("div.topics .itens"),c=0;c<b.length;c++)a.append($("<a>").attr("href",
"/?query="+b[c].id).html("#"+b[c].id))});$(".container span.search-icon").click(function(){var a=$("input.search-input").val();""!=a&&$.when(ivy.target.search(a)).done(function(a){a&&!$.isEmptyObject(a)&&(ivy.page.add(a,!0),$("#page").val(1))})});$(".container-mobile span.search-icon").click(function(){$(".container-mobile .search-form").show();$("div.content").css({margin:"18% 0"})});$(".container-mobile span.search-icon").click(function(){$(".container-mobile .search-form").show();$("div.content").css({margin:"18% 0"})});
$(".container-mobile .search-form .form-close").click(function(){$(".container-mobile .search-form").hide();$("div.content").css({margin:"8% 0"})});$(".search-input").keypress(function(a){"13"==(a.keyCode?a.keyCode:a.which)&&(a=$(".container input.search-input").val()||$(".container-mobile input.search-input").val(),""!=a&&$.when(ivy.target.search(a)).done(function(a){a&&!$.isEmptyObject(a)&&(ivy.page.add(a,!0),$("#page").val(1))}))})});
ivy.page={add:function(a,b){var d=$("div.page");b&&(d.empty(),$("#page").val(0));for(var c=0;c<a.length;c++)d.append($("<div>").append($("<div>").append($("<a>").attr({href:"http://"+a[c].host,target:"_blank"}).append($("<strong>").addClass("host").html(a[c].host)),$("<span>").addClass("location").append($("<strong>").html(a[c].country),$("<img>").attr({src:"/public/img/icon-geo-form.png"}).addClass("geo-icon")),$("<span>").addClass("time").html(ivy.page.time_stamp(Number(a[c].lastScan)))).addClass("bloc-info"),
$("<div>").addClass("url "+(a[c].safe?"url-green":"url-red")).append($("<a>").attr({href:a[c].url,target:"_blank"}).html(a[c].url)),$("<div>").addClass("search-tags").append(ivy.page.format_tags(a[c].tags))).addClass("item"))},format_tags:function(a){if(null!=a&&""!=a){a=a.split(" ");for(var b=$("<div>"),d=0;d<a.length;d++)b.append($("<a>").attr({href:"#",onclick:"ivy.redirect_page('/?query="+a[d]+"'); return false;"}).html("#"+a[d]));return b}},time_stamp:function(a){var b=(new Date).getTime(),d=
864E5,c=" days";switch(!0){case 59E3>=b-a:d=1E3;c=" sec";break;case 354E4>=b-a:d=6E4;c=" min";break;case 1728E5>=b-a:d=36E5,c=" h"}return Math.round((b-a)/d)+c}};$.urlParam=function(a){return(a=(new RegExp("[?&]"+a+"=([^&#]*)")).exec(window.location.href))?a[1]||0:null};
$(document).ready(function(){var a=!1;$(window).scroll(function(){var b=$(window).scrollTop(),d=$(document).height(),c=$(window).height();b+c>=d&&!a&&(a=!0,(b=ivy.target.list())&&!$.isEmptyObject(b)&&(ivy.page.add(b,!1),$("#page").val(Number($("#page").val())+1)),a=!1)})});