$(function(){var a=$(".header .item1");a.mouseover(function(){$(".header .item1 img").addClass("hover");$(".header .item1 span").addClass("hover")});a.mouseout(function(){$(".header .item1 img").removeClass("hover");$(".header .item1 span").removeClass("hover")});a=$(".header .item2");a.mouseover(function(){$(".header .item2 img").addClass("hover");$(".header .item2 span").addClass("hover")});a.mouseout(function(){$(".header .item2 img").removeClass("hover");$(".header .item2 span").removeClass("hover")});
$("#open-popup").click(function(){$(".popup").show();$(".body-off").show()});$(".body-off").click(function(){$(".popup").hide();$(".body-off").hide()});$(".popup-filter .close").click(function(){$(".popup-filter").hide();$(".p-input input").val("1")});$(".popup-header .close").click(function(){$(".popup").hide();$(".body-off").hide()});$(".popup-footer .option-container").click(function(){$(".popup-filter").show()});$("#hack").click(function(){var a=$(".popup .popup-input").val(),b=Number($(".p-input input").val());
!$.isEmptyObject(a)&&ivy.pattern.test(a)?(ivy.loading_event(),ivy.exploit.host=a,0<b&&(ivy.exploit.rounds=b),ivy.exploit.execute()):ivy.popup_msg(ivy.msg_link_format)})});
var ivy={create_tags:function(a){a=a.split("//")[1];a=a.replace(/\./g," ");a=a.replace(/\//g,"");a=a.replace("com","");a=a.replace("br","");a=a.replace("www","");return $.trim(a)},loading_event:function(){$("#hack").prop("disabled",!0);$("#hack").addClass("disabled");$(".popup-footer .option-container").prop("disabled",!0);$(".popup-footer .option-container").addClass("disabled");$(".popup-footer .loading").show()},close_popup:function(){$(".popup").hide();$(".body-off").hide()},end_loading:function(){$("#hack").prop("disabled",
!1);$("#hack").removeClass("disabled");$(".popup-footer .option-container").prop("disabled",!1);$(".popup-footer .option-container").removeClass("disabled");$(".popup-footer .loading").hide()},redirect_page:function(a){window.location.href=a},whois_scope:{list:function(){return $.ajax({url:"/api/scope",cache:!1,dataType:"json",data:{page:1,pagesize:5}})}},target:{list:function(){var a={page:Number($("#page").val()),pagesize:6};return $.ajax({url:"/api/target",cache:!1,dataType:"json",data:a})},search:function(a){return $.ajax({url:"/api/target",
cache:!1,dataType:"json",data:{action:"search",query:a}})},save:function(a,c,b,d){if(!$.isEmptyObject(a)&&ivy.pattern.test(a)&&!$.isEmptyObject(c))return $.ajax({url:"/api/target",cache:!1,dataType:"json",data:{action:"save",host:a,url:c,safe:b?b:!1,tags:d},success:function(a){ivy.redirect_page("/")}})}},popup_msg:function(a){$("body .popup > input").addClass("error").attr("placeholder",a).val("");ivy.end_loading()},exploit:{rounds:0,host:"",urls:[],url:"",target:null,vulnerable:!1,supported_extension:"",
msg_no_urls:"No link has been found, please contact support.",msg_no_supported:"this domain extension is not supported.",msg_connection_refused:"Connection refused.",reset_environment_variables:function(){this.rounds=0;this.host="";this.urls=[];this.url="";this.target=null;this.vulnerable=!1;this.supported_extension=""},map:function(){if(!($.isEmptyObject(this.host)||!ivy.pattern.test(this.host)||1>this.rounds))return $.ajax({url:"/api/url-mapping",cache:!1,dataType:"json",data:{character:"=",host:this.host,
linksNumber:this.rounds},success:function(a){if(null!=a)for(var c in a){var b=a[c].replace(/&/g,"%26");ivy.exploit.urls.push(b)}}})},code_injection:function(){if(!(0>=this.urls.length))return $.ajax({url:"/api/injection?links="+this.urls,cache:!1,dataType:"json",success:function(a){if(null!=a){var c="",b=!1,d;for(d in a)if(c=d,b=a[d])ivy.exploit.url=c,ivy.exploit.vulnerable=b;$.isEmptyObject(ivy.exploit.url)&&(ivy.exploit.url=c,ivy.exploit.vulnerable=b)}}})},evaluate:function(){if(""!=this.host&&
ivy.pattern.test(this.host))return $.ajax({url:"/api/target",cache:!1,dataType:"json",data:{action:"evaluate",host:this.host},success:function(a){null!=a&&(ivy.exploit.target=a)}})},supported:function(){if(""!=this.host&&ivy.pattern.test(this.host))return $.ajax({url:"/api/target",cache:!1,dataType:"json",data:{action:"supported",host:this.host},success:function(a){null!=a&&(ivy.exploit.supported_extension=a)}})},execute:function(){$.when(ivy.exploit.evaluate()).done(function(){if(null==ivy.exploit.target||
"connection_refused"!=ivy.exploit.target&&"false"!=ivy.exploit.target)if(null!=ivy.exploit.target){var a="/?query="+ivy.exploit.target.host;ivy.end_loading();ivy.close_popup();ivy.exploit.reset_environment_variables();ivy.redirect_page(a)}else $.when(ivy.exploit.supported()).done(function(){ivy.exploit.supported_extension?$.when(ivy.exploit.map()).done(function(){0>=ivy.exploit.urls.length?(ivy.popup_msg(ivy.exploit.msg_no_urls),ivy.end_loading(),ivy.close_popup(),ivy.exploit.reset_environment_variables()):
$.when(ivy.exploit.code_injection()).done(function(){$.when(ivy.target.save(ivy.exploit.host,ivy.exploit.url,ivy.exploit.vulnerable,ivy.create_tags(ivy.exploit.host))).done(function(){ivy.end_loading();ivy.close_popup();ivy.exploit.reset_environment_variables()})})}):(ivy.popup_msg(ivy.exploit.msg_no_supported),ivy.exploit.reset_environment_variables())});else ivy.popup_msg(ivy.exploit.msg_connection_refused),ivy.exploit.reset_environment_variables()})}},msg_link_format:"the link must be in the proper format ex. http://domain.com",
pattern:/(http|https):\/\/(\w+:{0,1}\w*)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%!\-\/]))?/};